#:kivy 2.1.0
<RoundedButton@Button>:
    background_color: (0,0,0,0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (0,0,0, 1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [10]
<RoundedButtonBlue@Button>:
    background_color: (0,0,0,0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (0,0.267,0.4,1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [10]

<RoundedButtonDarkBlue@Button>:
    background_color: (0,0,0,0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (0.17,0.58,0.76,0.56)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [10]
            
<loginWindow>:
    canvas:
        Color:
            rgba: 0,0.267,0.4,1
            # rgba: 0,0,0,1
    
        Rectangle:
            pos: self.pos
            size: (self.width, self.height)
        
        Color:
            rgba : 1,1,1,1
        RoundedRectangle:
            pos: (self.center_x - ((self.width - 75)/2), self.center_y  - ((self.height - 75)/2))
            size: (self.width - 70, self.height - 70)
            radius: [20] 
        Color:
            rgba : 1,1,1,1
        RoundedRectangle:
            pos: (self.center_x - ((self.width - 75)/2), self.center_y  - ((self.height - 75)/2))
            size: (self.width - 70, self.height - 70)
            radius: [20]

    login_password : login_password
    login_username : login_username
    infyuva_label : infyuva_label
    FloatLayout:
        # Image:
        #     source: 'infyuva_tech.jpeg'
        #     allow_stretch: True
        #     keep_ratio: False
        #     size_hint: 0.15, 0.1
        #     pos_hint: {'center_x': 0.13, 'center_y': 0.89}
        Image:
            source: 'Image.png'
            allow_stretch: False
            keep_ratio: False
            size_hint: 0.495, 0.8875
            pos_hint: {'center_x': 0.73, 'center_y': 0.505}
        Label:
            id: infyuva_label
            
            text:'[b][size=28]Welcome to Crime\nSense![/size][/b]\nCrime Sense offer innovative\n AI-based diagnosis screening\ntools for detecting violent\nincidents.'
            # font_name : 'Inter/static/Inter-Regular.ttf'
            lineheight: 3.5
            markup: True    
            multiline: True
            color: (1,1,1,1)
            size_hint: 0.3, 0.4
            pos_hint: {'center_x': 0.725, 'center_y': 0.5}
            resize : True
            canvas.before:
                Color:
                    rgba: (0,0,0,0.6)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: 10,

        Label:
            text: 'Welcome Back...'
            # font_name : 'Inter/static/Inter-Regular.ttf'
            markup: True
            font_size: 50
            color : (0,0,0,1)
            pos_hint : {'center_x' : 0.275, 'center_y' : 0.81}
        
        Label:
            text: 'Please enter your\n      credentials'
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            font_size: 25
            color: (0,0,0,1)
            pos_hint: {'center_x': 0.275, 'center_y': 0.7}

        TextInput:
            id: login_username
            hint_text: 'Username'
            hint_text_color: (0,0,0,1)
            font_name : 'Inter/static/Inter-Regular.ttf'
            halign: 'center'
            background_color: (1,1,1,1)
            multiline: False
            background_normal: ""
            background_active: ""
            size_hint : 0.281, 0.07
            pos_hint : {'center_x' : 0.275, 'center_y' : 0.55}
            canvas.after:
                Color:
                    rgba: (0.85, 0.85, 0.85, 0.5)
                RoundedRectangle:
                    size: self.size
                    pos:self.pos
                    radius: 10,
        
        TextInput:
            id: login_password
            hint_text: 'password'
            password: True
            hint_text_color: (0,0,0,1)
            font_name : 'Inter/static/Inter-Regular.ttf'
            halign: 'center'
            background_color: (1,1,1,1)
            multiline: False
            background_normal: ""
            background_active: ""
            size_hint : 0.281, 0.07
            pos_hint : {'center_x' : 0.275, 'center_y' : 0.445}
            canvas.after:
                Color:
                    rgba: (0.85, 0.85, 0.85, 0.5)
                RoundedRectangle:
                    size: self.size
                    pos:self.pos
                    radius: 10,

        RoundedButton:
            text:"login"
            font_name : 'Inter/static/Inter-Regular.ttf'
            font_size : 20
            size_hint : 0.281, 0.075
            pos_hint : {'center_x' : 0.275 ,'center_y' : 0.25}
            on_press:
                root.submit_login()

        #make a button to go to the register page
        Button:
            background_color: (0,0,0,0)
            text:"New user ? Sign up here"
            font_name : 'Inter/static/Inter-Regular.ttf'
            color: (0,0,0,1)
            font_size : 13.7
            size_hint : 0.281, 0.075
            pos_hint : {'center_x' : 0.275 ,'center_y' : 0.15}
            on_press:
                login_username.text = ''
                login_password.text = ''
                app.root.current = 'signupinfoWindow'

<signupWindow>:
    canvas:
        Color:
            rgba: 0,0.267,0.4,1
            # rgba: 0,0,0,1
    
        Rectangle:
            pos: self.pos
            size: (self.width, self.height)
        
        Color:
            rgba : 1,1,1,1
        RoundedRectangle:
            pos: (self.center_x - ((self.width - 75)/2), self.center_y  - ((self.height - 75)/2))
            size: (self.width - 70, self.height - 70)
            radius: [20]
        
    user_name: user_name
    user_username : user_username
    user_mobile : user_mobile
	user_age : user_age
	user_password : user_password

    FloatLayout:

        
        Label:
            text: '[b]user[/b] Profile'
            # font_name : 'Inter/static/Inter-Regular.ttf'
            markup: True
            font_size: 50
            color : (0,0,0,1)
            pos_hint : {'center_x' : 0.275, 'center_y' : 0.81}
        
        Label:
            text: '         Please enter\nall the personal details'
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            font_size: 25
            color: (0,0,0,1)
            pos_hint: {'center_x': 0.275, 'center_y': 0.7}

        TextInput:
            id: user_name
            hint_text: 'Name'
            hint_text_color: (0,0,0,1)
            font_name : 'Inter/static/Inter-Regular.ttf'
            halign: 'center'
            background_color: (1,1,1,1)
            multiline: False
            background_normal: ""
            background_active: ""
            size_hint : 0.281, 0.05
            pos_hint : {'center_x' : 0.275, 'center_y' : 0.575}
            canvas.after:
                Color:
                    rgba: (0.85, 0.85, 0.85, 0.5)
                RoundedRectangle:
                    size: self.size
                    pos:self.pos
                    radius: 10,
        
        TextInput:
            id: user_username
            hint_text: 'Username'
            hint_text_color: (0,0,0,1)
            font_name : 'Inter/static/Inter-Regular.ttf'
            halign: 'center'
            background_color: (1,1,1,1)
            multiline: False
            background_normal: ""
            background_active: ""
            size_hint : 0.281, 0.05
            pos_hint : {'center_x' : 0.275, 'center_y' : 0.5}
            canvas.after:
                Color:
                    rgba: (0.85, 0.85, 0.85, 0.5)
                RoundedRectangle:
                    size: self.size
                    pos:self.pos
                    radius: 10,
        
        TextInput:
            id: user_mobile
            hint_text: 'Mobile'
            hint_text_color: (0,0,0,1)
            font_name : 'Inter/static/Inter-Regular.ttf'
            halign: 'center'
            background_color: (1,1,1,1)
            multiline: False
            background_normal: ""
            background_active: ""
            size_hint : 0.281, 0.05
            pos_hint : {'center_x' : 0.275, 'center_y' : 0.425}
            canvas.after:
                Color:
                    rgba: (0.85, 0.85, 0.85, 0.5)
                RoundedRectangle:
                    size: self.size
                    pos:self.pos
                    radius: 10,
        
        TextInput:
            id: user_age
            hint_text: 'Age'
            hint_text_color: (0,0,0,1)
            font_name : 'Inter/static/Inter-Regular.ttf'
            halign: 'center'
            background_color: (1,1,1,1)
            multiline: False
            background_normal: ""
            background_active: ""
            size_hint : 0.281, 0.05
            pos_hint : {'center_x' : 0.275, 'center_y' : 0.35}

            canvas.after:
                Color:
                    rgba: (0.85, 0.85, 0.85, 0.5)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: 10,
            
        
        TextInput:
            id: user_password
            hint_text: 'Password'
            hint_text_color: (0,0,0,1)
            password : True
            font_name : 'Inter/static/Inter-Regular.ttf'
            halign: 'center'
            background_color: (1,1,1,1)
            multiline: False
            background_normal: ""
            background_active: ""
            size_hint : 0.281, 0.05
            pos_hint : {'center_x' : 0.275, 'center_y' : 0.275}

            canvas.after:
                Color:
                    rgba: (0.85, 0.85, 0.85, 0.5)
                RoundedRectangle:
                    size: self.size
                    pos:self.pos
                    radius: 10,
        
        RoundedButton:
            text:"Submit"
            font_name : 'Inter/static/Inter-Regular.ttf'
            font_size : 20
            size_hint : 0.281, 0.075
            pos_hint : {'center_x' : 0.275 ,'center_y' : 0.15}
            on_press:
                root.submit_signup()
               


        Image:
            source: 'Image.png'
            allow_stretch: True
            keep_ratio: False
            size_hint: 0.475, 0.8835
            pos_hint: {'center_x': 0.73, 'center_y': 0.505}

<videoinputWindow>:
    canvas:
        Color:
            rgba: 0,0.267,0.4,1
            # rgba: 0,0,0,1
    
        Rectangle:
            pos: self.pos
            size: (self.width, self.height)
        
        Color:
            rgba : 1,1,1,1
        RoundedRectangle:
            pos: (self.center_x - ((self.width - 75)/2), self.center_y  - ((self.height - 75)/2))
            size: (self.width - 70, self.height - 70)
            radius: [20] 
        Color:
            rgba : 1,1,1,1
        RoundedRectangle:
            pos: (self.center_x - ((self.width - 75)/2), self.center_y  - ((self.height - 75)/2))
            size: (self.width - 70, self.height - 70)
            radius: [20]

    video_path : video_path
    location : location
    FloatLayout:

        Image:
            source: 'cctv3.png'
            allow_stretch: False
            keep_ratio: False
            size_hint: 0.495, 0.8875
            pos_hint: {'center_x': 0.73, 'center_y': 0.505}

    Label:
        text: 'VideoInput'
        # font_name : 'Inter/static/Inter-Regular.ttf'
        markup: True
        font_size: 50
        color : (0,0,0,1)
        pos_hint : {'center_x' : 0.25, 'center_y' : 0.81}
    
    Label:
        text: 'Please enter the\n       Details'
        font_name : 'Inter/static/Inter-Regular.ttf'
        multiline: True
        font_size: 25
        color: (0,0,0,1)
        pos_hint: {'center_x': 0.25, 'center_y': 0.7}

    TextInput:
        id: video_path
        hint_text: 'Video Path'
        hint_text_color: (0,0,0,1)
        font_name : 'Inter/static/Inter-Regular.ttf'
        halign: 'center'
        background_color: (1,1,1,1)
        multiline: False
        background_normal: ""
        background_active: ""
        size_hint : 0.281, 0.07
        pos_hint : {'center_x' : 0.25, 'center_y' : 0.55}
        canvas.after:
            Color:
                rgba: (0.85, 0.85, 0.85, 0.5)
            RoundedRectangle:
                size: self.size
                pos:self.pos
                radius: 10,
    
    TextInput:
        id: location
        hint_text: 'Location'
        password: True
        hint_text_color: (0,0,0,1)
        font_name : 'Inter/static/Inter-Regular.ttf'
        halign: 'center'
        background_color: (1,1,1,1)
        multiline: False
        background_normal: ""
        background_active: ""
        size_hint : 0.281, 0.07
        pos_hint : {'center_x' : 0.25, 'center_y' : 0.445}
        canvas.after:
            Color:
                rgba: (0.85, 0.85, 0.85, 0.5)
            RoundedRectangle:
                size: self.size
                pos:self.pos
                radius: 10,

    RoundedButton:
        text:"Submit"
        font_name : 'Inter/static/Inter-Regular.ttf'
        font_size : 20
        size_hint : 0.281, 0.075
        pos_hint : {'center_x' : 0.25 ,'center_y' : 0.25}
        on_release:
            root.view_video()


<ReportWindow>:
    canvas:
        Color:
            rgba: 0,0.267,0.4,1
    
        Rectangle:
            pos: self.pos
            size: (self.width, self.height)
        
        # Color:
        #     rgba : 1,1,1,1
        # RoundedRectangle:
        #     pos: (self.center_x - ((self.width - 75)/2), self.center_y  - ((self.height - 75)/2))
        #     size: (self.width - 70, self.height - 70)
        #     radius: [20] 
        # Color:
        #     rgba : 1,1,1,1
        # RoundedRectangle:
        #     pos: (self.center_x - ((self.width - 75)/2), self.center_y  - ((self.height - 75)/2))
        #     size: (self.width - 70, self.height - 70)
        #     radius: [20]

    
        #Outer rectangle topmost
        Color:
            rgba : 1,1,1,1
            # rgba: 0.645,0.717,0.796,0.6
        RoundedRectangle:
            pos: (self.center_x - ((self.width - 75)/2), 390)
            size: (self.width - 100, self.height - 480)
            radius: [10]
        #Label for patient name
        Color:
            rgba: 1,1,1,1
            rgba : 0.645,0.717,0.796,0.6
        RoundedRectangle:
            pos: (50,405)
            size: (270, 50)
            radius: [10]

        Color:
            rgba  : 0.645,0.717,0.796,0.6
        RoundedRectangle:
            pos: (350,405)
            size: (200, 50)
            radius: [10]
        Color:
            rgba :  0.645,0.717,0.796,0.6
        RoundedRectangle:
            pos: (620,405)
            size: (220, 50)
            radius: [10]

        Color:
            # rgba : 0.645,0.717,0.796,0.6
            # rgba : 0.85, 0.85, 0.85, 0.5
            rgba : 1,1,1,1
        RoundedRectangle:
            pos: (40,245)
            size: (270,120)
            radius: [10]
        
        
        Color:
            # rgba : 0.645,0.717,0.796,0.6
            rgba : 1,1,1,1
        RoundedRectangle:
            pos: (320,245)
            size: (270,120)
            radius: [10]

        Color:
            # rgba : 0.645,0.717,0.796,0.6
            rgba : 1,1,1,1
            # rgba : 1,1,1,1
        RoundedRectangle:
            pos: (600,245)
            size: (270,120)
            radius: [10]

        Color:
            rgba : 0.645,0.717,0.796,0.6
            # rgba : 1,1,1,1
        RoundedRectangle:
            pos: (60,272)
            size: (240,40)
            radius: [10]
        
        Color:
            rgba : 0,0,0,1
        # Line:
        #     points : 180, 272, 180, 312

        Color:
            rgba : 0.645,0.717,0.796,0.6
            # rgba : 1,1,1,1
        RoundedRectangle:
            pos: (340,272)
            size: (240,40)
            radius: [10]
        
        Color:
            rgba : 0,0,0,1
        # Line:
        #     points : 460, 272, 460, 312
        
        Color:
            rgba : 0.645,0.717,0.796,0.6
            # rgba : 1,1,1,1
        RoundedRectangle:
            pos: (620,272)
            size: (240,40)
            radius: [10]
        
        Color:
            rgba : 0,0,0,1
        # Line:
        #     points : 740, 272, 740, 312

        #DR outer rectangle
        Color:
            # rgba : 0.645,0.717,0.796,0.6
            rgba : 1,1,1,1
        RoundedRectangle:
            pos: (35, 95)
            size: (450, 120)
            radius: [10]
        
        Color:
            rgba : 0.645,0.717,0.796,0.6
        RoundedRectangle:
            pos: (55,120)
            size: (420, 40)
            radius: [10]
        
        Color:
            rgba : 0,0,0,1
        # Line:
        #     points : 265, 120, 265, 160
        
        
    FloatLayout:
        RoundedButtonDarkBlue:
            text:"Save as PDF"
            font_name : 'Inter/static/Inter-Regular.ttf'
            font_size : 20
            size_hint : 0.281, 0.075
            pos_hint : {'center_x' : 0.775 ,'center_y' : 0.3}
            on_press: 
                root.view_()
                
        
        RoundedButtonDarkBlue:
            text:"Main Menu"
            font_name : 'Inter/static/Inter-Regular.ttf'
            font_size : 20
            size_hint : 0.281, 0.075
            pos_hint : {'center_x' : 0.775 ,'center_y' : 0.2}
            on_press: 
                root.main_menu()

            
        Label:
            text: 'Threat Report'
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            bold: True
            font_size: 40
            color: (1,1,1,1)
            pos_hint: {'center_x': 0.5, 'center_y': 0.92}
        Label:
            text: 'Threat type:'
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            bold: True
            font_size: 25
            color: (0,0,0,1)
            pos_hint: {'center_x': 0.16, 'center_y': 0.81}
        
        Label:
            text: root.patient_name
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            bold: True
            font_size: 25
            color: (0,0,0,1)
            pos_hint: {'center_x': 0.19, 'center_y': 0.723}

        Label:
            text: 'Threat level:'
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            bold: True
            font_size: 25
            color: (0,0,0,1)
            pos_hint: {'center_x': 0.46, 'center_y': 0.810}

        Label:
            text: root.patient_age
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            bold: True
            font_size: 25
            color: (0,0,0,1)
            pos_hint: {'center_x': 0.48, 'center_y': 0.723}


        Label:
            text: 'Threat location:'
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            bold: True
            font_size: 25
            color: (0,0,0,1)
            pos_hint: {'center_x': 0.76, 'center_y': 0.810}
        
        Label:
            text: root.patient_gender
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            bold: True
            font_size: 25
            color: (0,0,0,1)
            pos_hint: {'center_x': 0.78, 'center_y': 0.723}
        Label:
            text: 'Time of event:'
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            bold: True
            font_size: 25
            color: (0,0,0,1)
            pos_hint: {'center_x': 0.16, 'center_y': 0.575}

        Label:
            text: root.left_glaucoma
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            bold: True
            font_size: 25
            color: (0,0,0,1)
            pos_hint: {'center_x': 0.125, 'center_y': 0.49}

        Label:
            text: 'People involved:'
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            bold: True
            font_size: 25
            color: (0,0,0,1)
            pos_hint: {'center_x': 0.46, 'center_y': 0.575}

        
        Label:
            text: root.left_cataract
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            bold: True
            font_size: 25
            color: (0,0,0,1)
            pos_hint: {'center_x': 0.425, 'center_y': 0.49}
        

        
        Label:
            text: 'Vehicle Invovled:'
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            bold: True
            font_size: 25
            color: (0,0,0,1)
            pos_hint: {'center_x': 0.78, 'center_y': 0.575}
        
        Label:
            text: root.left_amd
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            bold: True
            font_size: 25
            color: (0,0,0,1)
            pos_hint: {'center_x': 0.72, 'center_y': 0.49}
        

        Label:
            text: 'Past pattern of threat:'
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            bold: True
            font_size: 25
            color: (0,0,0,1)
            pos_hint: {'center_x': 0.22, 'center_y': 0.32}
        
        Label:
            text: root.left_dr
            font_name : 'Inter/static/Inter-Regular.ttf'
            multiline: True
            bold: True
            font_size: 25
            color: (1,1,1,1)
            pos_hint: {'center_x': 0.17, 'center_y': 0.235}
        
