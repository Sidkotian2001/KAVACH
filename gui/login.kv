#:kivy 2.1.0
WindowManager:
    loginWindow:
    signupWindow:
    logDataWindow:
    patientWindow:
    DisplayPatientWindow:



# GUI for the login window
<loginWindow>:
	email : email
	pwd : pwd
	FloatLayout:
		# Image:
        #     source: 'Infysuva.png'
        #     allow_stretch: True
        #     keep_ratio: False
		# Image:
		# 	source: 'Infyuva.png'
		# 	allow_stretch: True
		# 	keep_ratio: False
		# 	size_hint: 0.15,0.15
		# 	pos_hint: {"x": 0, "y": 0.85}
		Image:
			source : 'wp_3.jpg'
			allow_stretch : True
			keep_ratio : False

		
		Label:
			text : "Doctor Login"
			color : 0,0,0,1
			font_size : 35
			bold : True
			pos_hint : {'center_x' : 0.5, 'center_y' : 0.93}
			
		Label:
			text : "Email: "
			font_size : 20
			color: 0.52,0,0.64,1
			bold : True
			pos_hint : {"center_x":0.25, "center_y":0.75}
		TextInput:
			id : email
			multiline :False
			size_hint : 0.3, 0.075
			pos_hint : {"center_x" : 0.5, "center_y" : 0.75}

		Label:
			text : "Password: "
			color: 0.52,0,0.64,1
			bold : True
			font_size : 20
			pos_hint : {"center_x" : 0.25, "center_y" : 0.60}
		
		TextInput:
			id : pwd
			multiline :False
			password : True
			size_hint : 0.3, 0.075
			pos_hint : {"center_x" : 0.5, "center_y" : 0.60}

		Button:
			text : "Login"
			background_normal: ''
    		background_color: 0.50, 0.50,0.80, 1
			bold : True
			size_hint : 0.3, 0.1
			pos_hint : {"center_x" : 0.5, "center_y" : 0.40}
			on_release:
				root.validate()
				app.root.current = 'patient_details'
				root.manager.transition.direction = "left"
		Button:
			text : "Create an account"
			background_normal: ''
    		background_color: 0.50, 0.50,0.80, 1
			bold : True
			size_hint : 0.3, 0.1
			pos_hint : {"center_x" : 0.5, "center_y" : 0.25}
			on_release:
				app.root.current = 'signup'
				root.manager.transition.direction = "left"
		

# GUI for the signup window
<signupWindow>:
	name2 : name2
	email : email
	pwd : pwd
	FloatLayout:
		 # Add the background image to the FloatLayout
		
        Image:
			source : 'wp_3.jpg'
			allow_stretch : True
			keep_ratio : False
		
		Label:
			text : "Create Account"
			color : 0,0,0,1
			font_size : 35
			bold : True
			pos_hint : {'center_x' : 0.5, 'center_y' : 0.93}

		Label:
			text : "Name:"
			font_size : 20
			color: 0.52,0,0.64,1
			bold : True
			pos_hint : {'center_x' : 0.2, 'center_y':0.75}

		TextInput:
			id : name2
			multiline : False
			size_hint : 0.3, 0.1
			pos_hint : {"center_x" : 0.5, "center_y" : 0.75}

		Label:
			text : "Email: "
			font_size : 20
			color : 0.52,0,0.64,1
			bold : True
			pos_hint : {"center_x" : 0.2, "center_y" : 0.60}

		TextInput:
			id : email
			multiline : False
			size_hint : 0.3, 0.1
			pos_hint : {"center_x" : 0.5, "center_y" : 0.60}

		Label:
			text : "Password: "
			color: 0.52,0,0.64,1
			font_size : 20
			bold : True
			size_hint : 0.2, 0.1
			pos_hint : {"center_x" : 0.2, "center_y" : 0.45}
		TextInput:
			id : pwd
			multiline : False
			size_hint : 0.3, 0.1
			pos_hint : {"center_x" : 0.5, "center_y" : 0.45}
		Button:
			text : "Submit"
			size_hint : 0.3, 0.1
			background_normal: ''
    		background_color: 0.50, 0.50,0.80, 1
			bold : True
			pos_hint : {"center_x" : 0.5, "top" : 0.28}
			on_press :
				root.signupbtn()
				root.manager.transition.direction = "right"

# GUI to show validation result
<logDataWindow>:
	dr : dr
	amd : amd
	cataract : cataract
	glaucoma : glaucoma

	FloatLayout:
		# Image:
		#     source: '/home/ayush/Downloads/eye.png'
		#     allow_stretch: True
		#     keep_ratio: False

		Image:
			source : 'wp_3.jpg'
			allow_stretch : True
			keep_ratio : False
		Label:
			text : "Evaluation Parameters"
			color : 0,0,0,1
			font_size : 35
			bold : True
			pos_hint : {'center_x' : 0.5, 'center_y' : 0.93}

		Button:
			text : "Start Models"
			size_hint : 0.4, 0.1
			background_normal: ''
    		background_color: 0.50, 0.50,0.80, 1
			bold : True
			pos_hint : {"center_x" : 0.25, "center_y" : 0.20}
			on_press :
				root.runbtn()

		Button:
			text : "Capture Images"
			size_hint : 0.4, 0.1
			background_normal: ''
    		background_color: 0.50, 0.50,0.80, 1
			bold : True
			pos_hint : {"center_x" : 0.75, "center_y" : 0.20}
			on_release:
				app.root.current = 'videofeed'
				# app.root.current = 'display_patient_details'
				root.manager.transition.direction = "left"
		Label:
			text: "Which of the following conditions should be evaluated"
			color: 0.52,0,0.64,1
			font_size : 20
			bold : True
			pos_hint : {"center_x" : 0.5, "center_y" : 0.80}
		
		CheckBox:
			id: cataract
			color: 0,0.5,0,1
			active: False
			pos_hint: {"center_x": 0.5, "center_y": 0.7}
			size_hint: None, None
			size: (30, 30)
		
		CheckBox:
			id: amd
			color: 0,0.5,0,1
			active: False
			pos_hint: {"center_x": 0.5, "center_y": 0.6}
			size_hint: None, None
			size: (30, 30)

		CheckBox:
			id: dr
			color: 0,0.5,0,1
			active: False
			pos_hint: {"center_x": 0.5, "center_y": 0.5}
			size_hint: None, None
			size: (30, 30)
		
		CheckBox:
			id: glaucoma
			color: 0,0.5,0,1
			active: False
			pos_hint: {"center_x": 0.5, "center_y": 0.4}
			size_hint: None, None
			size: (30, 30)

		Label:
			text: 'Cataract'
			color: [0.52,0,0.64,1]
			font_size : 20
			bold : True
			pos_hint: {"center_x": 0.25, "center_y": 0.7}
		
		Label:
			text: 'Macular Degeneration'
			color: [0.52,0,0.64,1]
			font_size : 20
			bold : True
			pos_hint: {"center_x": 0.25, "center_y": 0.6}
		Label:
			text: 'Diabetic Retinopathy'
			color: [0.52,0,0.64,1]
			font_size : 20
			bold : True
			pos_hint: {"center_x": 0.25, "center_y": 0.5}	

		Label:
			text: 'Glaucoma'
			color: [0.52,0,0.64,1]
			font_size : 20
			bold : True
			pos_hint: {"center_x": 0.25, "center_y": 0.4}


 
            
# GUI for pop up window
<P>:
	Label:
		text : "Please enter valid information"
		size_hint : 0.2, 0.1
		pos_hint : {"x" : 0.3, "top" : 0.8}

<View_Images>:
	FloatLayout:
		Image:
			source : 'wp_3.jpg'
			allow_stretch : True
			keep_ratio : False
		
		Label:
			text : 'Captured Images'
			color : 0,0,0,1
			font_size : 35
			bold : True
			pos_hint : {'center_x' : 0.5, 'center_y' : 0.93}
		
		Label:
			text: 'Left eye'
			font_size : 25
			bold : True
			color: 0.52,0,0.64,1
			size_hint: 0.3, 0.2
			pos_hint: {'center_x' : 0.25, 'center_y' : 0.77}

		
		Label:
			text: 'Right eye'
			font_size : 25
			bold : True
			color: 0.52,0,0.64,1
			size_hint: 0.3, 0.2
			pos_hint: {'center_x' : 0.75, 'center_y' : 0.77}

		Button:
			text: 'Display images'
			size_hint : 0.2, 0.1
			# font_size : 20
			bold : True
			background_normal: ''
    		background_color: 0.50, 0.50,0.80, 1
			pos_hint: {'center_x' : 0.2, 'center_y' : 0.15}
			on_release:
				root.show_images()
		
		Button:
			id: 'continue'
			text: 'Continue'
			background_normal: ''
    		background_color: 0.50, 0.50,0.80, 1
			bold : True
			size_hint : 0.2, 0.1
			pos_hint: {'center_x' : 0.5, 'center_y' : 0.15}
			on_release:
				
				app.root.current = 'logdata'
				root.manager.transition.direction = "left"

		
		Button:
			id: 'retake image'
			text: 'Retake Images'
			size_hint: 0.2, 0.1
			background_normal: ''
    		background_color: 0.50, 0.50,0.80, 1
			bold : True
			pos_hint: {'center_x' : 0.8, 'center_y': 0.15}
			on_release:
				root.previous_screen()
				# app.root.current = 'videofeed'
				root.manager.transition.direction = "left"
<patientWindow>:

	patient_name : patient_name
	patient_mobile : patient_mobile
	patient_age : patient_age
	patient_gender : patient_gender
	

	FloatLayout:
		 # Add the background image to the FloatLayout

        Image:
			source : 'wp_3.jpg'
			allow_stretch : True
			keep_ratio : False
		Label:
			text : "Patient Details"
			color : 0,0,0,1
			font_size : 35
			bold : True
			pos_hint : {'center_x' : 0.5, 'center_y' : 0.93}
		Label:
			text : "Name: "
			font_size : 20
			color : 0.52,0,0.64,1
			bold : True
			size_hint : 0.2, 0.1
			pos_hint : {"x":0.25, "top":0.8}
		TextInput:
			id : patient_name
			multiline : False
			size_hint : 0.3, 0.1
			pos_hint : {"x" : 0.45, "top" : 0.8}
		Label:
			text : "Age: "
			font_size : 20
			color : 0.52,0,0.64,1
			bold : True
			size_hint : 0.2, 0.1
			pos_hint : {"x" : 0.25, "top" : 0.65}
		TextInput:
			id : patient_age
			multiline : False
			size_hint : 0.3, 0.1
			pos_hint : {"x" : 0.45, "top" : 0.65}
		Label:
			text : "Gender: "
			font_size : 20
			color : 0.52,0,0.64,1
			bold : True
			size_hint : 0.2, 0.1
			pos_hint : {"x" : 0.25, "top" : 0.5}
		TextInput:
			id : patient_gender
			multiline : False
			size_hint : 0.3, 0.1
			pos_hint : {"x" : 0.45, "top" : 0.5}
		Label:
			text : "Phone No.: "
			font_size : 20
			color : 0.52,0,0.64,1
			bold : True
			size_hint : 0.2, 0.1
			pos_hint : {"x" : 0.25, "top" : 0.35}
		TextInput:
			id : patient_mobile
			multiline : False
			size_hint : 0.3, 0.1
			pos_hint : {"x" : 0.45, "top" : 0.35}
		Button:
			text: 'Submit'
			background_normal: ''
    		background_color: 0.50, 0.50,0.80, 1
			bold : True
			size_hint : 0.2, 0.1
			pos_hint : {'x' : 0.5, 'y' : 0.05}
			on_press:
				root.submit_info()
				app.root.current = 'logdata'
				app.root.transition.direction = 'left'


<DisplayPatientWindow>:

    FloatLayout:
        Image:
			source : 'wp_3.jpg'
			allow_stretch : True
			keep_ratio : False
		Label:
			text : "Patient Report"
			color : 0,0,0,1
			font_size : 35
			bold : True
			pos_hint : {'center_x' : 0.5, 'center_y' : 0.93}
        Label:
            text: 'Patient name :'
			font_size : 20
			color : 0.52,0,0.64,1
			bold : True
            text_size : root.width, root.height
            pos_hint : {'x':0.1, 'y' : 0.81}
			
        
        Label :
            text : root.patient_name
            font_size : 20
			color : 0.52,0,0.64,1
			bold : True
            text_size : root.width, root.height
            pos_hint : {'x': 0.32, 'y' : 0.813}

        
        Label:
            text: 'Patient age :'
            font_size : 20
			color : 0.52,0,0.64,1
			bold : True
            text_size : root.width, root.height
			pos_hint : {'x':0.1, 'y' : 0.74}
        
        Label :
            text : root.patient_age
            font_size : 20
			color : 0.52,0,0.64,1
			bold : True
            text_size : root.width, root.height
            pos_hint : {'x':0.30,'y' : 0.748}

        Label:
            text: 'Patient gender:'
            font_size : 20
			color : 0.52,0,0.64,1
			bold : True
            text_size : root.width, root.height
			pos_hint : {'x':0.1,'y' : 0.67}
        
        Label :
            text : root.patient_gender
            font_size : 20
			color : 0.52,0,0.64,1
			bold : True
            text_size : root.width, root.height
            pos_hint : {'x':0.33,'y' : 0.678}
        
        Label:
            text: 'Diabetic Retinopathy : '
            font_size : 20
			color : 0.52,0,0.64,1
			bold : True
            text_size : root.width, root.height
			pos_hint : {'x':0.1,'y' : 0.60}
		
		Label:
			text : root.dr
			font_size : 20
			color : 0.52, 0,0.64, 1
			bold : True
			text_size : root.width, root.height
			pos_hint : {'x' : 0.44, 'y' : 0.61}

        Label:
            text: 'Macular Degeneration :'
            font_size : 20
			color : 0.52,0,0.64,1
			bold : True
            text_size : root.width, root.height
			pos_hint : {'x':0.1,'y' : 0.53}
		
		Label:
			text : root.amd
			font_size : 20
			color : 0.52, 0,0.64, 1
			bold : True
			text_size : root.width, root.height
			pos_hint : {'x' : 0.45, 'y' : 0.54}


        Label:
            text: 'Cataract :'
            font_size : 20
			color : 0.52,0,0.64,1
			bold : True
            text_size : root.width, root.height
			pos_hint : {'x':0.1,'y' : 0.46}
		
		Label:
			text : root.cataract
			font_size : 20
			color : 0.52, 0,0.64, 1
			bold : True
			text_size : root.width, root.height
			pos_hint : {'x' : 0.25, 'y' : 0.46}

        Label:
            text: 'Glaucoma :'
			font_size : 20
			color : 0.52,0,0.64,1
			bold : True
            text_size : root.width, root.height
			pos_hint : {'x':0.1,'y' : 0.39}
		
		Label:
			text : root.glaucoma
			font_size : 20
			color : 0.52, 0,0.64, 1
			bold : True
			text_size : root.width, root.height
			pos_hint : {'x' : 0.27, 'y' : 0.39}
        
        Button:
			text: 'Display'
			background_normal: ''
    		background_color: 0.50, 0.50,0.80, 1
			bold : True
			size_hint : 0.2, 0.1
			pos_hint : {'center_x' : 0.3, 'y' : 0.24}
			on_press:
				root.display_info()
				# app.root.current = 'display_patient_details'
				# app.root.transition.direction = 'left'
        
        Button:
            text: 'Generate PDF'
            background_normal: ''
    		background_color: 0.50, 0.50,0.80, 1
			bold : True
			size_hint : 0.2, 0.1
            pos_hint : {'center_x' : 0.7, 'y' : 0.24}
            on_press:
                root.generate_pdf()
		Button:
			text: 'Home Page'
			background_normal: ''
			background_color: 0.50, 0.50,0.80, 1
			bold : True
			size_hint : 0.2, 0.1
			pos_hint : {'center_x' : 0.5, 'y' : 0.08}
			on_press:
				app.root.current = 'login'
				app.root.transition.direction = 'right'
        
        
